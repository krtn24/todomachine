<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<title>簡単Todoリスト</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  ul { list-style: none; padding-left: 0; }
  li { margin-bottom: 5px; }
  .done { text-decoration: line-through; color: gray; }
</style>
</head>
<body>
<h1>勉強タスク管理</h1>

<input id="taskInput" placeholder="タスクを入力" />
<button onclick="addTask()">追加</button>

<ul id="taskList"></ul>

<script>
const taskList = document.getElementById('taskList');
const taskInput = document.getElementById('taskInput');

// ローカルストレージから読み込み
let tasks = JSON.parse(localStorage.getItem('tasks') || '[]');

function saveTasks() {
  localStorage.setItem('tasks', JSON.stringify(tasks));
}

function renderTasks() {
  taskList.innerHTML = '';
  tasks.forEach((task, index) => {
    const li = document.createElement('li');
    li.className = task.done ? 'done' : '';
    li.textContent = task.text;
    li.onclick = () => toggleDone(index);
    taskList.appendChild(li);
  });
}

function addTask() {
  const text = taskInput.value.trim();
  if (!text) return alert('タスクを入力してください');
  tasks.push({ text, done: false });
  taskInput.value = '';
  saveTasks();
  renderTasks();
}

function toggleDone(index) {
  tasks[index].done = !tasks[index].done;
  saveTasks();
  renderTasks();
}

renderTasks();
</script>
</body>
</html>
